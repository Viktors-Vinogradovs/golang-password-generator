# Генератор уникальных паролей

CLI-приложение на Go для генерации уникальных паролей с настраиваемыми параметрами.


## Требования

- Go 1.23+ (для локальной сборки)
- Docker (для сборки образа)

## Локальная установка и запуск

### Сборка

```bash
go build -o passwordgen.exe ./cmd/passwordgen
```

### Примеры использования

```bash
# Пароль длиной 12 символов со всеми типами
./passwordgen -length 12 -digits -lower -upper

# 5 паролей длиной 10 символов с цифрами и буквами
./passwordgen -l 10 -digits -lower -count 5

# 3 пароля длиной 8 символов только из больших букв
./passwordgen -length 8 -upper -count 3

# Только цифры
./passwordgen -length 6 -digits

# Справка
./passwordgen --help
```

## Запуск тестов

```bash
# Запуск всех тестов
go test ./... -v

# С покрытием
go test ./... -cover

# Подробное покрытие
go test ./... -coverprofile=coverage.out
go tool cover -html=coverage.out
```

## Docker

### Сборка образа

```bash
docker build -t password-generator .
```

### Запуск в Docker

```bash
# Базовый пример
docker run --rm password-generator -length 12 -digits -lower -upper

# Несколько паролей
docker run --rm password-generator -length 10 -digits -lower -count 5

# Только большие буквы
docker run --rm password-generator -length 8 -upper -count 3

# Справка
docker run --rm password-generator --help
```

## Флаги командной строки

| Флаг | Короткий | Описание | По умолчанию |
|------|----------|----------|--------------|
| `-length` | `-l` | Длина пароля | обязательный |
| `-digits` | - | Использовать цифры 0-9 | false |
| `-lower` | - | Использовать буквы a-z | false |
| `-upper` | - | Использовать буквы A-Z | false |
| `-count` | - | Количество паролей | 1 |

## Правила генерации

1. **Без повторений**: символы в одном пароле не повторяются
2. **Уникальность**: каждый пароль уникален в рамках одного запуска
3. **Обязательное присутствие**: если выбрано несколько наборов, каждый пароль содержит минимум один символ из каждого набора
4. **Валидация**: если длина превышает количество доступных символов, выдаётся ошибка

## Примеры вывода

```bash
$ ./passwordgen -length 12 -digits -lower -upper -count 3
7mKqR1nZ4wL9
Pd3xY8jT2aV5
Hg6Bn0Sk9Wu4
```

## Структура проекта

```
.
├── cmd/
│   └── passwordgen/
│       └── main.go              # Точка входа
├── internal/
│   └── password/
│       ├── generator.go         # Логика генерации
│       └── generator_test.go    # Тесты
├── go.mod
├── Dockerfile
└── README.md
```

## Обработка ошибок

Приложение выдаёт понятные сообщения об ошибках на русском языке:

```bash
# Нет наборов символов
$ ./passwordgen -length 10
Ошибка: необходимо выбрать хотя бы один набор символов (-digits, -lower или -upper)

# Длина больше доступных символов
$ ./passwordgen -length 11 -digits
Ошибка создания генератора: длина пароля (11) превышает количество доступных уникальных символов (10)

# Слишком много паролей
$ ./passwordgen -length 5 -digits -count 100000
Ошибка генерации паролей: не удалось сгенерировать 100000 уникальных паролей: не удалось сгенерировать уникальный пароль за 10000 попыток, возможно достигнут лимит комбинаций
```

## Лицензия

MIT

